(this["webpackJsonpbasket-app-ts"]=this["webpackJsonpbasket-app-ts"]||[]).push([[0],{17:function(e){e.exports=JSON.parse('{"categories":[{"id":1,"name":"Fruit"},{"id":2,"name":"Vegetable"},{"id":3,"name":"Dairy"},{"id":4,"name":"Meat"},{"id":5,"name":"Grain"}],"products":[{"id":1,"name":"Strawberry","categoryId":1},{"id":2,"name":"Blueberry","categoryId":1},{"id":3,"name":"Orange","categoryId":1},{"id":4,"name":"Banana","categoryId":1},{"id":5,"name":"Apple","categoryId":1},{"id":6,"name":"Carrot","categoryId":2},{"id":7,"name":"Celery","categoryId":2},{"id":8,"name":"Mushroom","categoryId":2},{"id":9,"name":"Green Pepper","categoryId":2},{"id":10,"name":"Eggs","categoryId":3},{"id":11,"name":"Cheese","categoryId":3},{"id":12,"name":"Butter","categoryId":3},{"id":13,"name":"Chicken","categoryId":4},{"id":14,"name":"Beef","categoryId":4},{"id":15,"name":"Pork","categoryId":4},{"id":16,"name":"Fish","categoryId":4},{"id":17,"name":"Rice","categoryId":5},{"id":18,"name":"Pasta","categoryId":5},{"id":19,"name":"Bread","categoryId":5}]}')},22:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),r=t(7),i=t.n(r),s=(t(22),t(5)),o=t(3),d=t(15),u=t(4),j=t(10),l=Object(j.b)({name:"basket",initialState:{pendings:[],purchased:[],isClear:!1},reducers:{addItem:function(e,n){e.pendings.some((function(e){return e.name===n.payload.name}))?e.pendings.map((function(e){return e.id===n.payload.id?Object(u.a)(Object(u.a)({},e),{},{count:e.count++}):e})):e.pendings=[].concat(Object(d.a)(e.pendings),[Object(u.a)(Object(u.a)({},n.payload),{},{count:1})])},removeItem:function(e,n){e.pendings=e.pendings.filter((function(e){return e.name!==n.payload.name}))},incrementQuantity:function(e,n){e.pendings.map((function(e){return e.id===n.payload.id?Object(u.a)(Object(u.a)({},e),{},{count:e.count++}):e}))},reduceQuantity:function(e,n){e.pendings.map((function(e){return e.id===n.payload.id&&e.count>1?Object(u.a)(Object(u.a)({},e),{},{count:e.count--}):e}))},buyProduct:function(e,n){console.log(n.payload);var t={date:(new Date).toISOString(),products:n.payload};e.pendings=[],e.purchased.length>0?e.purchased=[t].concat(Object(d.a)(e.purchased)):e.purchased=[t]},clearPendings:function(e){e.pendings=[]},toggleClear:function(e){e.isClear=!e.isClear}}}),b=l.actions,m=b.addItem,O=b.removeItem,p=b.incrementQuantity,h=b.reduceQuantity,f=b.buyProduct,g=b.clearPendings,x=b.toggleClear,y=function(e){return e.basket.pendings},v=function(e){return e.basket.purchased},k=function(e){return e.basket.isClear},I=l.reducer,N=t(14),C=t(9),w=t(1),S=function(e){var n=e.setShowList,t=Object(c.useRef)(null),a=Object(o.b)(),r=Object(o.c)(y),i=Object(o.c)(k),s=function(e){t.current&&!t.current.contains(e.target)&&n(!1)};return Object(c.useEffect)((function(){return document.addEventListener("click",s),function(){document.removeEventListener("click",s),i&&a(x())}})),Object(w.jsxs)("ul",{className:"basket-list",ref:t,children:[0===r.length&&Object(w.jsx)("li",{children:"Your Basket is Empty"}),r.map((function(e,n){return Object(w.jsxs)("li",{children:[Object(w.jsxs)("div",{className:"info-box",children:[Object(w.jsx)("strong",{children:e.name}),Object(w.jsx)("span",{children:"Quantity: ".concat(e.count)})]}),i?Object(w.jsx)(P,{item:e}):Object(w.jsx)(E,{item:e})]},e.name+n)})),r.length>0&&Object(w.jsx)(B,{})]})},B=function(){var e=Object(o.b)(),n=Object(o.c)(k),t=Object(o.c)(y);return Object(w.jsx)("div",{className:"lower-button",children:n?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"clear-btn",onClick:function(){return e(g()),e(x())},children:"All"}),Object(w.jsx)("span",{className:"done-btn",onClick:function(){return e(x())},children:"Done"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"clear-btn",onClick:function(){return e(x())},children:"Clear"}),Object(w.jsx)("span",{className:"done-btn",onClick:function(){return e(f(t))},children:"Buy"})]})})},P=function(e){var n=e.item,t=Object(o.b)();return Object(w.jsx)("div",{className:"li-buttons",children:Object(w.jsx)("span",{className:"trash",onClick:function(){return t(O(n))},children:Object(w.jsx)(C.b,{})})})},E=function(e){var n=e.item,t=Object(o.b)();return Object(w.jsxs)("div",{className:"li-buttons",children:[Object(w.jsx)("span",{className:"plus",onClick:function(){return t(p(n))},children:Object(w.jsx)(N.b,{})}),Object(w.jsx)("span",{className:"minus",onClick:function(){return function(e){e.count>1?t(h(e)):t(O(e))}(n)},children:Object(w.jsx)(N.a,{})})]})},F=function(){var e=Object(c.useState)(!1),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(o.c)(y);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"basket-btn",onClick:function(){return a((function(e){return!e}))},children:[Object(w.jsx)(C.a,{}),Object(w.jsx)("div",{className:"count",children:Object(w.jsx)("span",{children:r.length})})]}),t&&Object(w.jsx)(S,{setShowList:a})]})},L=function(){return Object(w.jsxs)("header",{children:[Object(w.jsx)("h1",{children:"Basket App"}),Object(w.jsx)(F,{})]})},Q=(t(28),t(29),t(16)),A=function(e){var n=e.product,t=Object(o.b)(m),a=Object(c.useState)(!1),r=Object(s.a)(a,2),i=r[0],d=r[1];return Object(w.jsxs)("div",{className:"product",children:[Object(w.jsx)("span",{className:"add-btn ".concat(i?"animate":""),onClick:function(){t(m(n)),d(!0)},onAnimationEnd:function(){return d(!1)},children:Object(w.jsx)(Q.a,{})}),Object(w.jsx)("span",{children:n.name})]})},D=t(17),G=function(){return Object(w.jsx)("div",{className:"grocery",children:D.products.map((function(e){return Object(w.jsx)(A,{product:e},e.id)}))})},J=function(e){var n=e.list,t=void 0===n?[]:n;return Object(w.jsxs)("ul",{children:[t.map((function(e){return Object(w.jsx)("li",{children:"".concat(e.count," x ").concat(e.name)},e.name)})),Object(w.jsx)("span",{children:"Total: ".concat(t.reduce((function(e,n,t,c){return e+=n.count}),0))})]})},M=function(){var e=Object(o.c)(v);return Object(w.jsx)("div",{className:"purchased",children:e.map((function(e){return Object(w.jsxs)("div",{className:"purchased-list",children:[Object(w.jsx)("strong",{children:(n=e.date,new Date(n).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}),Object(w.jsx)(J,{list:e.products})]},e.date);var n}))})},R=function(){var e=Object(c.useState)(!0),n=Object(s.a)(e,2),t=n[0],a=n[1];return Object(w.jsxs)("main",{children:[Object(w.jsxs)("div",{className:"nav-btns",children:[Object(w.jsx)("span",{className:t?"active":"",onClick:function(){return a(!0)},children:"Grocery"}),Object(w.jsx)("span",{className:t?"":"active",onClick:function(){return a(!1)},children:"Purchased"}),Object(w.jsx)("span",{className:"slideblock ".concat(t?"":"moved")})]}),t?Object(w.jsx)(G,{}):Object(w.jsx)(M,{})]})};var T=function(){return Object(w.jsxs)("div",{className:"app",children:[Object(w.jsx)(L,{}),Object(w.jsx)(R,{})]})},W=Object(j.a)({reducer:{basket:I}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(o.a,{store:W,children:Object(w.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.345f72d8.chunk.js.map