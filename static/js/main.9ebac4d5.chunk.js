(this["webpackJsonpbasket-app-ts"]=this["webpackJsonpbasket-app-ts"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"categories":[{"id":1,"name":"Fruit"},{"id":2,"name":"Vegetable"},{"id":3,"name":"Dairy"},{"id":4,"name":"Meat"},{"id":5,"name":"Grain"}],"products":[{"id":1,"name":"Strawberry","categoryId":1},{"id":2,"name":"Blueberry","categoryId":1},{"id":3,"name":"Orange","categoryId":1},{"id":4,"name":"Banana","categoryId":1},{"id":5,"name":"Apple","categoryId":1},{"id":6,"name":"Carrot","categoryId":2},{"id":7,"name":"Celery","categoryId":2},{"id":8,"name":"Mushroom","categoryId":2},{"id":9,"name":"Green Pepper","categoryId":2},{"id":10,"name":"Eggs","categoryId":3},{"id":11,"name":"Cheese","categoryId":3},{"id":12,"name":"Butter","categoryId":3},{"id":13,"name":"Chicken","categoryId":4},{"id":14,"name":"Beef","categoryId":4},{"id":15,"name":"Pork","categoryId":4},{"id":16,"name":"Fish","categoryId":4},{"id":17,"name":"Rice","categoryId":5},{"id":18,"name":"Pasta","categoryId":5},{"id":19,"name":"Bread","categoryId":5}]}')},23:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),r=t(7),i=t.n(r),s=(t(23),t(5)),o=t(16),d=t(3),j=t(15),u=t(4),l=t(10),b=Object(l.b)({name:"basket",initialState:{pendings:[],purchased:[],isClear:!1},reducers:{addItem:function(e,n){e.pendings.some((function(e){return e.name===n.payload.name}))?e.pendings.map((function(e){return e.id===n.payload.id?Object(u.a)(Object(u.a)({},e),{},{count:e.count++}):e})):e.pendings=[].concat(Object(j.a)(e.pendings),[Object(u.a)(Object(u.a)({},n.payload),{},{count:1})])},removeItem:function(e,n){e.pendings=e.pendings.filter((function(e){return e.name!==n.payload.name}))},incrementQuantity:function(e,n){e.pendings.map((function(e){return e.id===n.payload.id?Object(u.a)(Object(u.a)({},e),{},{count:e.count++}):e}))},reduceQuantity:function(e,n){e.pendings.map((function(e){return e.id===n.payload.id&&e.count>1?Object(u.a)(Object(u.a)({},e),{},{count:e.count--}):e}))},buyProduct:function(e,n){console.log(n.payload);var t={date:(new Date).toISOString(),products:n.payload};e.pendings=[],e.purchased.length>0?e.purchased=[t].concat(Object(j.a)(e.purchased)):e.purchased=[t]},clearPendings:function(e){e.pendings=[]},toggleClear:function(e){e.isClear=!e.isClear}}}),m=b.actions,O=m.addItem,p=m.removeItem,h=m.incrementQuantity,g=m.reduceQuantity,x=m.buyProduct,f=m.clearPendings,y=m.toggleClear,v=function(e){return e.basket.pendings},k=function(e){return e.basket.purchased},C=function(e){return e.basket.isClear},N=b.reducer,I=t(14),w=t(9),B=t(1),P=Object(c.memo)((function(){var e=Object(d.b)(),n=Object(d.c)(C),t=Object(d.c)(v);return Object(B.jsx)("div",{className:"lower-button",children:n?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("span",{className:"clear-btn",onClick:function(){return e(f()),e(y())},children:"All"}),Object(B.jsx)("span",{className:"done-btn",onClick:function(){return e(y())},children:"Done"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("span",{className:"clear-btn",onClick:function(){return e(y())},children:"Clear"}),Object(B.jsx)("span",{className:"done-btn",onClick:function(){return e(x(t))},children:"Buy"})]})})})),S=Object(c.memo)((function(e){var n=e.item,t=Object(d.b)(),a=Object(c.useCallback)((function(e){e.count>1?t(g(e)):t(p(e))}),[t]);return Object(B.jsxs)("div",{className:"li-buttons",children:[Object(B.jsx)("span",{className:"plus",onClick:function(){return t(h(n))},children:Object(B.jsx)(I.b,{})}),Object(B.jsx)("span",{className:"minus",onClick:function(){return a(n)},children:Object(B.jsx)(I.a,{})})]})})),A=Object(c.memo)((function(e){var n=e.item,t=Object(d.b)();return Object(B.jsx)("div",{className:"li-buttons",children:Object(B.jsx)("span",{className:"trash",onClick:function(){return t(p(n))},children:Object(B.jsx)(w.b,{})})})})),F=function(e){var n=e.triggerClick,t=Object(d.c)(v),c=Object(d.c)(C);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("ul",{className:"basket-list",children:[Object(B.jsx)("div",{className:"basket-head",children:Object(B.jsx)("span",{className:"close-btn",onClick:n,children:Object(B.jsx)(o.a,{})})}),0===t.length&&Object(B.jsx)("li",{children:"Your Basket is Empty"}),t.map((function(e,n){return Object(B.jsxs)("li",{children:[Object(B.jsxs)("div",{className:"info-box",children:[Object(B.jsx)("strong",{children:e.name}),Object(B.jsx)("span",{children:"Quantity: ".concat(e.count)})]}),c?Object(B.jsx)(A,{item:e}):Object(B.jsx)(S,{item:e})]},e.name+n)})),t.length>0&&Object(B.jsx)(P,{})]}),Object(B.jsx)("div",{className:"trigger",onClick:n})]})},E=Object(c.memo)(F),M=function(){var e=Object(c.useState)(!1),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(d.c)(v),i=Object(c.useCallback)((function(){a((function(e){return!e}))}),[]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{className:"basket-btn",onClick:i,children:[Object(B.jsx)(w.a,{}),Object(B.jsx)("div",{className:"count",children:Object(B.jsx)("span",{children:r.length})})]}),t&&Object(B.jsx)(E,{triggerClick:i})]})},Q=Object(c.memo)(M),D=function(){return Object(B.jsxs)("header",{children:[Object(B.jsx)("h1",{children:"Basket App"}),Object(B.jsx)(Q,{})]})},G=t(17),J=function(e){var n=e.product,t=Object(d.b)(),a=Object(c.useState)(!1),r=Object(s.a)(a,2),i=r[0],o=r[1];return Object(B.jsxs)("div",{className:"product",children:[Object(B.jsx)("span",{className:"add-btn ".concat(i?"animate":""),onClick:function(){t(O(n)),o(!0)},onAnimationEnd:function(){return o(!1)},children:Object(B.jsx)(G.a,{})}),Object(B.jsx)("span",{children:n.name})]})},T=t(18),W=function(){return Object(B.jsx)("div",{className:"grocery",children:T.products.map((function(e){return Object(B.jsx)(J,{product:e},e.id)}))})},L=function(e){var n=e.list,t=void 0===n?[]:n;return Object(B.jsxs)("ul",{children:[t.map((function(e){return Object(B.jsx)("li",{children:"".concat(e.count," x ").concat(e.name)},e.name)})),Object(B.jsx)("span",{children:"Total: ".concat(t.reduce((function(e,n,t,c){return e+=n.count}),0))})]})},R=function(){var e=Object(d.c)(k);return Object(B.jsx)("div",{className:"purchased",children:e.map((function(e){return Object(B.jsxs)("div",{className:"purchased-list",children:[Object(B.jsx)("strong",{children:(n=e.date,new Date(n).toLocaleString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}),Object(B.jsx)(L,{list:e.products})]},e.date);var n}))})},V=function(){var e=Object(c.useState)(!0),n=Object(s.a)(e,2),t=n[0],a=n[1];return Object(B.jsxs)("main",{children:[Object(B.jsxs)("div",{className:"nav-btns",children:[Object(B.jsx)("span",{className:t?"active":"",onClick:function(){return a(!0)},children:"Grocery"}),Object(B.jsx)("span",{className:t?"":"active",onClick:function(){return a(!1)},children:"Purchased"}),Object(B.jsx)("span",{className:"slideblock ".concat(t?"":"moved")})]}),t?Object(B.jsx)(W,{}):Object(B.jsx)(R,{})]})};t(29),t(30);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(t(31),console.log("mobile"));var Y=function(){return Object(B.jsxs)("div",{className:"app",children:[Object(B.jsx)(D,{}),Object(B.jsx)(V,{})]})},$=Object(l.a)({reducer:{basket:N}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(d.a,{store:$,children:Object(B.jsx)(Y,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.9ebac4d5.chunk.js.map